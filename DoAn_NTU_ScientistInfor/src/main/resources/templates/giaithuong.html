<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSDL gi·∫£i th∆∞·ªüng</title>
    <link rel="stylesheet" th:href="@{/css/giaithuong.css}" />
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div th:insert="fragments/sidebar :: sidebar"></div>
        <!-- Main content -->
        <main class="main">
            <h1>C∆° s·ªü d·ªØ li·ªáu Khoa h·ªçc C√¥ng ngh·ªá</h1>
            <div th:insert="fragments/banner :: banner"></div>
            <div class="search-container">
                <h2><strong>T√¨m Ki·∫øm <span style="color:deeppink;">D·ªØ Li·ªáu</span></strong></h2>
                <form th:action="@{/quanlykhoahoc/giaithuong}" method="get">
                    <input type="text" class="search-input" name="keyword" placeholder="üîç Nh·∫≠p t√™n gi·∫£i th∆∞·ªüng ho·∫∑c t√°c gi·∫£..." th:value="${keyword}">
                    <button type="submit" class="search-button">üîç T√¨m Ki·∫øm</button>
                </form>
            </div>

            <div class="article-page">
                <div class="article-header">
                    <div>
                        <h2>D·ªÆ LI·ªÜU GI·∫¢I TH∆Ø·ªûNG</h2>
                        <div class="underline"></div>
                    </div>
                    <a th:href="@{/quanlykhoahoc/add-giai-thuong}" class="add-btn" sec:authorize="hasAnyAuthority('Admin', 'NKH')">Th√™m Gi·∫£i Th∆∞·ªüng</a>
                </div>

                <div class="article-container">
                    <div th:each="award : ${awards}" class="article-card">
                        <h3 th:text="${award.tenGiaiThuong}"></h3>
                        <p><strong>NƒÉm:</strong> <span th:text="${#dates.format(award.namTang, 'yyyy')}"></span></p>
                        <p><strong>ƒê∆°n v·ªã t·∫∑ng th∆∞·ªüng:</strong> <span th:text="${award.donViTang}"></span></p>
                        <p><strong>N·ªôi dung gi·∫£i th∆∞·ªüng:</strong> <span th:text="${award.noiDung}"></span></p>
                        <p><strong>T√°c gi·∫£:</strong>
                            <span th:if="${award.nhanGiaiThuong.isEmpty()}">Kh√¥ng c√≥ t√°c gi·∫£</span>
                            <span th:each="ngt, iterStat : ${award.nhanGiaiThuong}" th:text="${ngt.nhaKhoaHoc?.hoTen} + (${iterStat.last} ? '' : ', ')"></span>
                        </p>
                        <div class="bottom-row">
                            <form th:action="@{/quanlykhoahoc/xoa-giai-thuong/{id}(id=${award.id})}" method="post" style="display:inline;">
                                <button type="submit" class="details-btn" onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a gi·∫£i th∆∞·ªüng n√†y?')" sec:authorize="hasAuthority('Admin')">X√≥a</button>
                            </form>
                            <a th:href="@{/quanlykhoahoc/sua-giai-thuong/{id}(id=${award.id})}" class="details-btn" sec:authorize="hasAuthority('Admin')">S·ª≠a</a>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <div th:insert="fragments/footer :: footer"></div>
</body>
</html>